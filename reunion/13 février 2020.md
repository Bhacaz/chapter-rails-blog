---
layout: default
title: 13 fÃ©vrier 2020
parent: RÃ©union
nav_order: 8
---

# 13 fÃ©vrier 2020

## Tour de table

## Remplacement de fast_jsonapi

**https://github.com/Bhacaz/bright_serializer**

### Ce qui reste a faire

* Caching
* Logging instrumentation
* Meillieur nom ðŸ˜…
* Release sur RubyGem

### DÃ©mo technique

```ruby
class MinimalAccountAMC < ActiveModel::Serializer
  format_keys :lower_camel
  attributes :first_name, :last_name, :name
  def name
    "#{object.first_name} #{object.last_name}"
  end
end
class MinimalAccountFast < FastJsonapi::BaseObjectSerializer
  self.record_type = 'account'
  attributes :first_name, :last_name
  attribute :name do |object|
    "#{object.first_name} #{object.last_name}"
  end
end
class MinimalAccountBright
  include BrightSerializer::Serializer
  set_key_transform :camel_lower
  attributes :first_name, :last_name
  attribute :name do |object|
    "#{object.first_name} #{object.last_name}"
  end
end
account = Account.first
raise if MinimalAccountAMC.new(account, root: false).to_json != MinimalAccountFast.new(account).to_json
raise if MinimalAccountBright.new(account).to_json != MinimalAccountFast.new(account).to_json
require 'benchmark/ips'
Benchmark.ips do |x|
  x.report('AMC') { MinimalAccountAMC.new(account).to_json }
  x.report('Fast') { MinimalAccountFast.new(account).to_json }
  x.report('Bright') { MinimalAccountBright.new(account).to_json }
  x.compare!
end
```

**Result**

```
Comparison:
              Bright:    60430.6 i/s
                Fast:    16032.1 i/s - 3.77x  slower
                 AMC:     5832.6 i/s - 10.36x  slower
```


## [Nouvelle class pour un teste](../blog/Nouvelle class pour un teste)


